<h2>Persoonlijk planningsoverzicht</h2>

<mat-form-field class="spacer">
  <input min="1" max="52" style="width: 60%;" type="number" (keyup)="SetDateRange($event.target.value)" placeholder="weeknummer">
</mat-form-field>

<button style="transform: translateX(-50%);" [disabled]="isLoading || hasError" mat-button (click)="getAllBookingRecords()">Zoek planning</button>
<div *ngIf="isLoading && !hasError" class="loader">
  Bezig met het ophalen van gegevens. Even geduld aub...
  <p><mat-spinner></mat-spinner></p>
</div>

<div *ngIf="hasError">
  Een fout is opgetreden bij het ophalen van data, probeer het aub opnieuw.
</div>

<div *ngIf="!isLoading && !hasError && klantenDagPlanning.length === 0">
  Geen planningsgegevens gevonden voor de geselecteerde periode.
</div>

<!-- PLANNING TABEL -->
<table class="persoonlijke-planning" *ngIf="klantenDagPlanning.length">
  <thead>
    <tr>
      <th>Klant</th>
      <th *ngFor="let dag of klantenDagPlanning[0].dagen">
        {{ dag.date | date:'EEE dd-MM' }}
      </th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let klant of klantenDagPlanning">
      <th>{{ klant.naam }}</th>

      <td *ngFor="let dag of klant.dagen">
        <div class="cel" *ngIf="dag.uren > 0">
          <div class="uren">{{ dag.uren }} uur</div>
          <div class="boekingen">{{ dag.boekingen }} boeking(en)</div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
