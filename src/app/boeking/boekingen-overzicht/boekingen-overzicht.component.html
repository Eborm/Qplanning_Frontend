
<p></p>
<mat-form-field>
  <mat-label>Vanaf</mat-label>
  <input [(ngModel)]="startDate" matInput [matDatepicker]="startDatePicker"  placeholder="datum vanaf">
  <mat-datepicker-toggle  matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
  <mat-datepicker #startDatePicker></mat-datepicker>
</mat-form-field>
<mat-form-field class="spacer">
  <mat-label>Tot en met</mat-label>
  <input [(ngModel)]="endDate" matInput [matDatepicker]="endDatePicker"  placeholder="tot en met">
  <mat-datepicker-toggle  matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
  <mat-datepicker #endDatePicker></mat-datepicker>
</mat-form-field>
<mat-form-field>
  <mat-select [(ngModel)]="selectedTeamId"  placeholder="Team" >
    <mat-option>Alle teams</mat-option>
    <mat-option *ngFor="let team of teamDropDown" [value]="team.id">
      {{team.naam}}
    </mat-option>
  </mat-select>
</mat-form-field>
<button class="spacer" mat-button (click)="getAllBookingRecords()">Zoek planning</button>
<button class="spacer button-right" mat-button (click)="getExcelExport()">Exporteren naar Excel</button>

<div fxLayout fxLayoutAlign="center center" class="reserve-height">
 <!-- <mat-form-field fxFlex="40%">
    <input matInput type="text" (keyup)="doFilter($event.target.value)" placeholder="Filter">
  </mat-form-field>-->
  <mat-label style="font-weight:bold">Filters: </mat-label>

  <mat-label>Klant:</mat-label>
  <mat-form-field class="filter" floatLabel="never">
    <mat-label>Klant</mat-label>
    <input matInput [formControl]="geboektOpFilter">
  </mat-form-field>

  <mat-label class="label-spacer">Medewerker:</mat-label>
  <mat-form-field class="filter" floatLabel="never">
    <mat-label>Naam medewerker</mat-label>
    <input matInput [formControl]="medewerkerFilter">
  </mat-form-field>

  <mat-label class="label-spacer">Functie:</mat-label>
  <mat-form-field class="filter" floatLabel="never">
    <mat-label>Functie</mat-label>
    <input matInput [formControl]="functieFilter">
  </mat-form-field>

  <mat-label class="label-spacer">Team:</mat-label>
  <mat-form-field class="filter" floatLabel="never">
    <mat-label>Team</mat-label>
    <input matInput [formControl]="teamFilter">
  </mat-form-field>

  <button class="button-right" mat-button (click)="addBoeking()">
    <mat-icon>add_circle</mat-icon>
    Boeking toevoegen
  </button>
</div>




<table mat-table class="customTable-fullscreen" [dataSource]="dataSource" matSort>
  <ng-container matColumnDef="Date">
    <th mat-header-cell *matHeaderCellDef mat-sort-header="Date"> Datum </th>
    <td mat-cell *matCellDef="let element">{{element.plannedDate.split('T')[0]}} </td>
    <td mat-footer-cell *matFooterCellDef> Total </td>
  </ng-container>

  <ng-container matColumnDef="Weeknumber">
    <th mat-header-cell *matHeaderCellDef mat-sort-header="weeknummer"> Week </th>
    <td mat-cell *matCellDef="let element"> {{element.weeknummer}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="BookedFor">
    <th mat-header-cell *matHeaderCellDef mat-sort-header="geboektOp"> Klant</th>
    <td mat-cell *matCellDef="let element"> {{element.geboektOp}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="Assignment">
    <th mat-header-cell *matHeaderCellDef mat-sort-header="opdrachtNaam"> Opdracht </th>
    <td mat-cell *matCellDef="let element"> {{element.opdrachtNaam}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="Hours">
    <th mat-header-cell *matHeaderCellDef mat-sort-header="uren"> Uren </th>
    <td mat-cell *matCellDef="let element"> {{element.uren}} </td>
    <td mat-footer-cell *matFooterCellDef> {{getTotalHours() | number}} </td>
  </ng-container>

  <ng-container matColumnDef="Employee">
    <th mat-header-cell *matHeaderCellDef mat-sort-header="medewerkerNaam"> Medewerker </th>
    <td mat-cell *matCellDef="let element"> {{element.medewerkerNaam}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="Function">
    <th mat-header-cell *matHeaderCellDef mat-sort-header="medewerkerFunctie"> Functie </th>
    <td mat-cell *matCellDef="let element"> {{element.medewerkerFunctie}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="Team">
    <th mat-header-cell *matHeaderCellDef mat-sort-header="teamNaam"> Team </th>
    <td mat-cell *matCellDef="let element"> {{element.teamNaam}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="update">
    <th mat-header-cell *matHeaderCellDef> Bewerken </th>
    <td  mat-cell *matCellDef="let element">
      <button [disabled]="!element.canBeEdited"  mat-icon-button color="primary" (click)="redirectToUpdate(element)">
        <mat-icon class="mat-18">edit</mat-icon>
      </button>
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="delete">
    <th mat-header-cell *matHeaderCellDef> Delete </th>
    <td mat-cell *matCellDef="let element">
      <button [disabled]="!element.canBeEdited" mat-icon-button color="warn" (click)="redirectToDelete(element.id)">
        <mat-icon class="mat-18">delete</mat-icon>
      </button>
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>


  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
</table>


<mat-paginator [pageSize]="50" [pageSizeOptions]="[20, 50, 100]">
</mat-paginator>
